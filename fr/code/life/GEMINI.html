<h2>üìò Instruction pour la g√©n√©ration de code Python</h2>
<h3>1. R√®gles g√©n√©rales</h3>
<ul>
<li>Utilisez <strong>Python 3.10+</strong>.</li>
<li>Respectez un <strong>style de codage clair, lisible et univoque</strong>.</li>
<li><strong>Chaque fonction, m√©thode et classe</strong> doit avoir:
<ul>
<li>Annotation de types (<code>type hints</code>)</li>
<li>Documentaci√≥n compl√®te y correcta au format <code>docstring</code> (ver section 3)</li>
<li>Comentarios internos (<code>#</code>), si necesario</li>
</ul>
</li>
</ul>
<hr>
<h3>2. Comentarios</h3>
<ul>
<li>Los comentarios deben ser <strong>precisos</strong> y describir <strong>qu√© hace el c√≥digo</strong>, no ¬´qu√© hacemos¬ª.</li>
<li><strong>Prohibido</strong> usar pronombres: <code>hacemos</code>, <code>devolvemos</code>, <code>enviamos</code>, <code>pasamos</code>, etc.</li>
<li><strong>Permitidos</strong> solo t√©rminos: <code>extracci√≥n</code>, <code>ejecuci√≥n</code>, <code>llamada</code>, <code>reemplazo</code>, <code>verificaci√≥n</code>, <code>env√≠o</code>, <code>La funci√≥n realiza</code>, <code>La funci√≥n modifica el valor</code>, etc.</li>
</ul>
<h4>‚ùå Ejemplo de comentario incorrecto:</h4>
<pre class="line-numbers"><code class="language-python"># Obtenemos el valor del par√°metro
</code></pre>
<h4>‚úÖ Ejemplo de comentario correcto:</h4>
<pre class="line-numbers"><code class="language-python"># La funci√≥n extrae el valor del par√°metro
</code></pre>
<hr>
<h3>3. Docstring (formato de documentaci√≥n)</h3>
<p>Cada funci√≥n/m√©todo/clase debe contener <code>docstring</code> en el siguiente formato:</p>
<pre class="line-numbers"><code class="language-python">def function(param: str, param1: Optional[str | dict | str] = None) -&gt; dict | None:
    &quot;&quot;&quot;
    Args:
        param (str): Descripci√≥n del par√°metro `param`.
        param1 (Optional[str | dict | str], optional): Descripci√≥n del par√°metro `param1`. Por defecto `None`.

    Returns:
        dict | None: Descripci√≥n del valor de retorno. Devuelve un diccionario o `None`.

    Raises:
        SomeError: Descripci√≥n de la situaci√≥n en la que se produce la excepci√≥n `SomeError`.

    Example:
        &gt;&gt;&gt; function('param', 'param1')
        {'param': 'param1'}
    &quot;&quot;&quot;
</code></pre>
<ul>
<li><strong>Todos los par√°metros y valores de retorno deben estar descritos.</strong></li>
<li>Las formulaciones deben ser <strong>concisas, precisas e inequ√≠vocas</strong>.</li>
<li>No se permite omitir la descripci√≥n de par√°metros/valores de retorno/excepciones.</li>
</ul>
<hr>
<h3>4. Anotaci√≥n de tipos</h3>
<ul>
<li><strong>Todas las variables, par√°metros y valores de retorno</strong> deben estar anotados.</li>
<li>Utiliza la sintaxis de Python 3.10+: <code>list[int]</code>, <code>dict[str, Any]</code>, <code>str | None</code>, etc.</li>
<li>Ejemplos de anotaciones correctas:</li>
</ul>
<h4>‚úÖ Tipos simples:</h4>
<pre class="line-numbers"><code class="language-python">name: str = &quot;John&quot;
count: int = 42
flag: bool = True
</code></pre>
<h4>‚úÖ Colecciones y tipos complejos:</h4>
<pre class="line-numbers"><code class="language-python">from typing import Any, Optional, Callable, TypeAlias

coordinates: tuple[float, float] = (55.75, 37.61)
metadata: dict[str, Any] = {&quot;debug&quot;: True}
UserId: TypeAlias = int
</code></pre>
<h4>‚úÖ Funciones y m√©todos:</h4>
<pre class="line-numbers"><code class="language-python">def get_user_name(user_id: int) -&gt; str:
    &quot;&quot;&quot;Devuelve el nombre de usuario por su identificador.&quot;&quot;&quot;
    ...
</code></pre>
<h4>‚úÖ Funciones as√≠ncronas:</h4>
<pre class="line-numbers"><code class="language-python">async def fetch_users() -&gt; AsyncIterator[dict[str, int | str]]:
    ...
</code></pre>
<h4>‚úÖ Tipos gen√©ricos:</h4>
<pre class="line-numbers"><code class="language-python">from typing import TypeVar, Generic

T = TypeVar(&quot;T&quot;)

class Container(Generic[T]):
    def __init__(self, value: T) -&gt; None:
        self.value = value

    def get(self) -&gt; T:
        return self.value
</code></pre>
<hr>
<h3>5. Otros</h3>
<ul>
<li>Utiliza <code>default_factory</code> en <code>dataclass</code> para valores mutables (<code>list</code>, <code>dict</code>).</li>
<li>Para valores <code>Optional</code>, especifica <code>T | None</code> (Python 3.10+) u <code>Optional[T]</code>.</li>
<li>Para estructuras complejas, utiliza <code>TypeAlias</code>.</li>
</ul>
<hr>
<p>üìå <strong>Conseil</strong>: Lors de la g√©n√©ration de code, incluez toujours l'annotation de types, le <code>docstring</code> et √©vitez les formulations subjectives dans les commentaires. L'objectif est une structure de code aussi pr√©cise, reproductible et formalis√©e que possible.</p>
