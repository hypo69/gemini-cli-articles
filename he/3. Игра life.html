<h3><strong>תרחיש עבור <span dir="ltr">Gemini CLI</span>: משחק החיים</strong></h3>
<h4><strong>שלב 1: יצירת הוראת מערכת <span dir="ltr">`GEMINI.md`</span></strong></h4>
<p dir="rtl">צור ספריית <span dir="ltr">`.gemini`</span> בתיקיית העבודה של הפרויקט. בתוך <span dir="ltr">`.gemini`</span>, צור קובץ <span dir="ltr">`GEMINI.md`</span> והכנס לתוכו את הוראת המערכת. דוגמה להוראה:</p>
<pre class="line-numbers"><code class="language-markdown">## 📘 הוראות ליצירת קוד פייתון

### 1. כללים כלליים

* השתמש ב-**Python 3.10+**.
* הקפד על **סגנון קידוד ברור, קריא וחד-משמעי**.
* **לכל פונקציה, שיטה ומחלקה** חייבים להיות:

  * הערות סוג (`type hints`)
  * תיעוד מלא ונכון בפורמט `docstring` (ראה סעיף 3)
  * הערות פנימיות (`#`), היכן שצריך

---

### 2. הערות

* הערות חייבות להיות **מדויקות** ולתאר **מה הקוד עושה**, ולא "מה אנחנו עושים".
* **אסור** להשתמש בכינויי גוף: `אנחנו עושים`, `אנחנו מחזירים`, `אנחנו שולחים`, `אנחנו הולכים`, וכו'.
* **מותר** רק במונחים: `חילוץ`, `ביצוע`, `קריאה`, `החלפה`, `בדיקה`, `שליחה`, `הפונקציה מבצעת`, `הפונקציה משנה ערך`, וכו'.

#### ❌ דוגמה להערה שגויה:

```python
# קבל ערך פרמטר
```

#### ✅ דוגמה להערה נכונה:

```python
# הפונקציה מחלצת ערך פרמטר
```

---

### 3. Docstring (פורמט תיעוד)

כל פונקציה/שיטה/מחלקה חייבת להכיל `docstring` בפורמט הבא:

```python
def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    """
    Args:
        param (str): תיאור הפרמטר `param`.
        param1 (Optional[str | dict | str], optional): תיאור הפרמטר `param1`. ברירת מחדל `None`.

    Returns:
        dict | None: תיאור ערך ההחזרה. מחזיר מילון או `None`.

    Raises:
        SomeError: תיאור המצב שבו מתרחשת חריגת `SomeError`.

    Example:
        >>> function('param', 'param1')
        {'param': 'param1'}
    """
```

* **כל הפרמטרים וערכי ההחזרה חייבים להיות מתוארים.**
* הניסוחים חייבים להיות **תמציתיים, מדויקים וחד-משמעיים**.
* אסור לדלג על תיאורי פרמטרים/ערכי החזרה/חריגות.

---

### 4. הערות סוג

* **כל המשתנים, הפרמטרים וערכי ההחזרה** חייבים להיות מסומנים.
* השתמש בתחביר Python 3.10+: `list[int]`, `dict[str, Any]`, `str | None`, וכו'.
* דוגמאות להערות נכונות:

#### ✅ סוגים פשוטים:

```python
name: str = "John"
count: int = 42
flag: bool = True
```

#### ✅ אוספים וסוגים מורכבים:

```python
from typing import Any, Optional, Callable, TypeAlias

coordinates: tuple[float, float] = (55.75, 37.61)
metadata: dict[str, Any] = {"debug": True}
UserId: TypeAlias = int
```

#### ✅ פונקציות ושיטות:

```python
def get_user_name(user_id: int) -> str:
    """מחזירה את שם המשתמש לפי המזהה שלו."""
    ...
```

#### ✅ פונקציות אסינכרוניות:

```python
async def fetch_users() -> AsyncIterator[dict[str, int | str]]:
    ...
```

#### ✅ סוגים גנריים:

```python
from typing import TypeVar, Generic

T = TypeVar("T")

class Container(Generic[T]):
    def __init__(self, value: T) -> None:
        self.value = value

    def get(self) -> T:
        return self.value
```

---

### 5. אחר

* השתמש ב-`default_factory` ב-`dataclass` עבור ערכים ניתנים לשינוי (`list`, `dict`).
* עבור ערכי `Optional`, ציין `T | None` (Python 3.10+) או `Optional[T]`.
* עבור מבנים מורכבים — השתמש ב-`TypeAlias`.

---

📌 **רמז**: בעת יצירת קוד, כלול תמיד הערות סוג, `docstring`, והימנע מניסוחים סובייקטיביים בהערות. המטרה היא מבנה קוד מדויק, ניתן לשחזור ומפורמל ככל האפשר.
</code></pre>
<hr>
<p dir="rtl">לנוחות, בואו ניצור ספריית <span dir="ltr">`game`</span> לאחסון קבצי הפרויקט, וספריית <span dir="ltr">`scenarios`</span> לאחסון תרחישים עבור <span dir="ltr">Gemini CLI</span>:</p>
<ul>
<li dir="rtl"><span dir="ltr">`scenarios/life-create-code.md`</span> — הוראות ליצירת קוד "משחק החיים"</li>
<li dir="rtl"><span dir="ltr">`scenarios/life-create-test.md`</span> — הוראות ליצירת בדיקות</li>
<li dir="rtl"><span dir="ltr">`scenarios/life-create-doc.md`</span> — הוראות ליצירת תיעוד</li>
</ul>
<hr>
<h3 dir="rtl"><strong><span dir="ltr">life-create-code.md</span></strong></h3>
<pre class="line-numbers"><code class="language-markdown">בתוך ספריית `game`, צור את הקובץ life.py.
יישם את "משחק החיים" של קונוויי בפייתון, תוך שימוש בגישה מונחית עצמים.
השתמש בספריות: `numpy`, `pygame` (לגרפיקה).

דרישות:
1.  צור מחלקה `Game`.
2.  ב-`__init__`, המחלקה צריכה לקבל מימדי רשת (רוחב, גובה) וליצור שדה התחלתי אקראי.
3.  צור שיטה `step()` המעדכנת את מצב המשחק בצעד אחד לפי הכללים:
    - תא חי עם &lt; 2 שכנים חיים מת (תת-אוכלוסייה).
    - תא חי עם 2 או 3 שכנים חיים שורד.
    - תא חי עם &gt; 3 שכנים חיים מת (אוכלוסיית יתר).
    - תא מת עם בדיוק 3 שכנים חיים הופך לחי (רבייה).
4.  צור שיטה `display()` או דרוס את `__str__` כדי להציג את השדה בקונסולה ('■' לתא חי, ' ' לתא מת).
5.  השתמש ב-`numpy` לפעולות רשת יעילות.
6.  בבלוק `if __name__ == '__main__':`, הוסף דוגמה היוצרת משחק ומריצה את הסימולציה עם השהיה קטנה בין צעדים.
7. השתמש ב-pygame או בספריית גרפיקה אחרת להדמיית המשחק.
</code></pre>
<hr>
<h3 dir="rtl"><strong><span dir="ltr">life-create-test.md</span></strong></h3>
<pre class="line-numbers"><code class="language-markdown">בתוך ספריית `game`, צור את הקובץ test_life.py, תוך שימוש בהקשר מקובץ @life.py. השתמש במסגרת pytest.

הבדיקה צריכה לבדוק את נכונות התפתחותו של מתנד "Blinker" פשוט:

1. ייבא את המחלקה `Game` מתוך `life`.
2. צור פונקציית בדיקה, לדוגמה `test_blinker_oscillation`.
3. צור מופע של `Game` בגודל קבוע (לדוגמה, 5x5).
4. הגדר ידנית את המצב ההתחלתי של השדה: שורה אופקית של שלושה תאים חיים במרכז.
5. קרא לשיטה `game.step()`.
6. באמצעות `assert` ו-`numpy.array_equal`, בדוק שהשדה השתנה לשורה אנכית של שלושה תאים.
7. קרא לשיטה `game.step()` שוב.
8. בדוק שהשדה חזר למצבו האופקי המקורי.
</code></pre>
<hr>
<h3 dir="rtl"><strong><span dir="ltr">life-create-doc.md</span></strong></h3>
<pre class="line-numbers"><code class="language-markdown">נתח את הקבצים @life.py ו-@test_life.py בתוך ספריית `game` וצור קובץ תיעוד doc.md המבוסס עליהם.

מבנה התיעוד:
- **כותרת:** # פרויקט "משחק החיים"
- **תיאור קצר:** יישום של האוטומט התאי של קונוויי.
- **מבנה קבצים:** תיאור קצר של מטרת הקבצים `life.py` ו-`test_life.py`.
- **כיצד להפעיל את הסימולציה:** פקודה להפעלת הקובץ הראשי (`python life.py`).
- **כיצד להפעיל בדיקות:** פקודות להתקנת תלויות (`pip install pytest numpy`) והפעלת בדיקות (`pytest`).
</code></pre>
<hr>
<h3 dir="rtl"><strong>שלב 2: יצירת קוד משחק "החיים"</strong></h3>
<p dir="rtl">הפעל את <span dir="ltr">gemini-cli</span> בטרמינל. חשוב! ודא שאתה נמצא בספרייה שבה נמצא <span dir="ltr">`.gemini/GEMINI.md`</span>.</p>
<ol dir="rtl">
<li>הענק הרשאה ליצירת הקובץ.</li>
<li><span dir="ltr">Gemini CLI</span> יצור את הקובץ <span dir="ltr">`life.py`</span> בספריית <span dir="ltr">`game`</span>.</li>
<li>צור סביבה וירטואלית <span dir="ltr">venv</span>, התקן תלויות והפעל את המשחק.</li>
</ol>
<hr>
<h3 dir="rtl"><strong>שלב 3: יצירת בדיקות</strong></h3>
<ol dir="rtl">
<li><span dir="ltr">Gemini CLI</span> יוצר את הקובץ <span dir="ltr">`test_life.py`</span> בספריית <span dir="ltr">`game`</span>.</li>
<li>בדוק תרחישים פשוטים, כגון מתנד "Blinker".</li>
<li>תקן שגיאות במידת הצורך.</li>
</ol>
<hr>
<h3 dir="rtl"><strong>שלב 4: יצירת תיעוד</strong></h3>
<ol dir="rtl">
<li><span dir="ltr">Gemini CLI</span> מנתח את <span dir="ltr">`life.py`</span> ו-<span dir="ltr">`test_life.py`</span>.</li>
<li>יוצר קובץ <span dir="ltr">`doc.md`</span> עם תיאור פרויקט, הוראות להפעלת המשחק והבדיקות.</li>
</ol>
<p dir="rtl">וואלה! הפרויקט מוכן.</p>