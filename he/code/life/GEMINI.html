<h2>📘 הוראה ליצירת קוד Python</h2>
<h3>1. כללים כלליים</h3>
<ul>
<li>השתמש ב-<strong>Python 3.10+</strong>.</li>
<li>הקפד על <strong>סגנון קידוד ברור, קריא וחד משמעי</strong>.</li>
<li><strong>כל פונקציה, מתודה ומחלקה</strong> צריכים לכלול:
<ul>
<li>הערת סוגים (<code>type hints</code>)</li>
<li>תיעוד מלא ונכון בפורמט <code>docstring</code> (ראה סעיף 3)</li>
<li>הערות פנימיות (<code>#</code>), היכן שצריך</li>
</ul>
</li>
</ul>
<hr>
<h3>2. הערות</h3>
<ul>
<li>הערות צריכות להיות <strong>מדויקות</strong> ולתאר <strong>מה הקוד עושה</strong>, ולא «מה אנחנו עושים».</li>
<li><strong>אסור</strong> להשתמש בכינויי גוף: <code>עושים</code>, <code>מחזירים</code>, <code>שולחים</code>, <code>עוברים</code> וכו'.</li>
<li><strong>מותרים</strong> רק מונחים: <code>חילוץ</code>, <code>ביצוע</code>, <code>קריאה</code>, <code>החלפה</code>, <code>בדיקה</code>, <code>שליחה</code>, <code>הפונקציה מבצעת</code>, <code>הפונקציה משנה ערך</code> וכו'.</li>
</ul>
<h4>❌ דוגמה להערה שגויה:</h4>
<pre class="line-numbers"><code class="language-python"># מקבלים את ערך הפרמטר
</code></pre>
<h4>✅ דוגמה להערה נכונה:</h4>
<pre class="line-numbers"><code class="language-python"># הפונקציה מחלצת את ערך הפרמטר
</code></pre>
<hr>
<h3>3. Docstring (פורמט תיעוד)</h3>
<p>כל פונקציה/מתודה/מחלקה צריכה לכלול <code>docstring</code> בפורמט הבא:</p>
<pre class="line-numbers"><code class="language-python">def function(param: str, param1: Optional[str | dict | str] = None) -&gt; dict | None:
    &quot;&quot;&quot;
    Args:
        param (str): תיאור הפרמטר `param`.
        param1 (Optional[str | dict | str], optional): תיאור הפרמטר `param1`. ברירת מחדל `None`.

    Returns:
        dict | None: תיאור ערך ההחזרה. מחזיר מילון או `None`.

    Raises:
        SomeError: תיאור המצב שבו מתרחשת החריגה `SomeError`.

    Example:
        >>> function('param', 'param1')
        {'param': 'param1'}
    """
</code></pre>
<ul>
<li><strong>כל הפרמטרים וערכי ההחזרה צריכים להיות מתוארים.</strong></li>
<li>הניסוחים צריכים להיות **תמציתיים, מדויקים וחד משמעיים**.
<li>אין להשמיט תיאור של פרמטרים/ערכי החזרה/חריגות.</li>
</ul>
<hr>
<h3>4. הערת סוגים</h3>
<ul>
<li><strong>כל המשתנים, הפרמטרים וערכי ההחזרה</strong> צריכים להיות מוערים.</li>
<li>השתמש בתחביר Python 3.10+: `list[int]`, `dict[str, Any]`, `str | None` וכו'.</li>
<li>דוגמאות להערות נכונות:</li>
</ul>
<h4>✅ סוגים פשוטים:</h4>
<pre class="line-numbers"><code class="language-python">name: str = &quot;John&quot;
count: int = 42
flag: bool = True
</code></pre>
<h4>✅ אוספים וסוגים מורכבים:</h4>
<pre class="line-numbers"><code class="language-python">from typing import Any, Optional, Callable, TypeAlias

coordinates: tuple[float, float] = (55.75, 37.61)
metadata: dict[str, Any] = {&quot;debug&quot;: True}
UserId: TypeAlias = int
</code></pre>
<h4>✅ פונקציות ומתודות:</h4>
<pre class="line-numbers"><code class="language-python">def get_user_name(user_id: int) -&gt; str:
    &quot;&quot;&quot;מחזירה את שם המשתמש לפי המזהה שלו.&quot;&quot;&quot;
    ...
</code></pre>
<h4>✅ פונקציות אסינכרוניות:</h4>
<pre class="line-numbers"><code class="language-python">async def fetch_users() -&gt; AsyncIterator[dict[str, int | str]]:
    ...
</code></pre>
<h4>✅ סוגים גנריים:</h4>
<pre class="line-numbers"><code class="language-python">from typing import TypeVar, Generic

T = TypeVar(&quot;T&quot;)

class Container(Generic[T]):
    def __init__(self, value: T) -&gt; None:
        self.value = value

    def get(self) -&gt; T:
        return self.value
</code></pre>
<hr>
<h3>5. אחר</h3>
<ul>
<li>השתמש ב-<code>default_factory</code> ב-<code>dataclass</code> עבור ערכים ניתנים לשינוי (`list`, `dict`).</li>
<li>עבור ערכי <code>Optional</code>, ציין `T | None` (Python 3.10+) או `Optional[T]`.
<li>עבור מבנים מורכבים — השתמש ב-<code>TypeAlias</code>.</li>
</ul>
<hr>
<p>📌 <strong>טיפ:</strong> אחסון <code>GEMINI.md</code> ב-<code>.gemini</code> הוא נוהג סטנדרטי עבור gemini-cli. בעת יצירת קוד, כלול תמיד הערת סוגים, <code>docstring</code> והימנע מניסוחים סובייקטיביים בהערות. המטרה היא מבנה קוד מדויק, ניתן לשחזור ומפורמל ככל האפשר.</p>
