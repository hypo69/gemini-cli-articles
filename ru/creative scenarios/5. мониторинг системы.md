Пример скрипта PowerShell для мониторинга системы, созданного с помощью Gemini CLI. Этот скрипт проверяет использование **ЦП** и **ОЗУ**, а затем выводит отчёт в удобочитаемом формате.


-----

### Скрипт мониторинга ресурсов

Этот скрипт можно запустить в PowerShell. Он проверяет текущее использование процессора и оперативной памяти, а затем выводит результат.

**Сценарий:** Вам нужен простой скрипт, чтобы быстро проверить загрузку системы, не открывая Диспетчер задач.

**Команда, которую можно использовать в Gemini CLI для генерации этого скрипта:**

```powershell
gemini-cli "Напиши скрипт PowerShell для мониторинга системы. Скрипт должен проверять текущее использование ЦП и ОЗУ, затем выводить результат в консоль."
```

**Пример сгенерированного скрипта:**

```powershell
# Get-WmiObject -Query - это удобный инструмент для получения данных
# о производительности системы.

Write-Host "--- Мониторинг системы ---" -ForegroundColor Green

# Получаем информацию об использовании процессора
$cpu = Get-WmiObject Win32_Processor | Measure-Object -Property LoadPercentage -Average | Select-Object -ExpandProperty Average
Write-Host "Загрузка ЦП: $cpu %" -ForegroundColor Yellow

# Получаем информацию об использовании оперативной памяти
$ram = Get-WmiObject Win32_OperatingSystem
$totalRam = [math]::Round($ram.TotalVisibleMemorySize / 1KB, 2)
$freeRam = [math]::Round($ram.FreePhysicalMemory / 1KB, 2)
$usedRam = [math]::Round(($totalRam - $freeRam), 2)
$usedRamPercentage = [math]::Round(($usedRam / $totalRam) * 100, 2)

Write-Host "Всего ОЗУ: $totalRam МБ" -ForegroundColor Cyan
Write-Host "Свободно ОЗУ: $freeRam МБ" -ForegroundColor Cyan
Write-Host "Использовано ОЗУ: $usedRam МБ ($usedRamPercentage %)" -ForegroundColor Cyan

Write-Host "------------------------" -ForegroundColor Green
```

**Как использовать этот скрипт:**

1.  Откройте текстовый редактор (например, Блокнот или Visual Studio Code).
2.  Скопируйте и вставьте код выше.
3.  Сохраните файл с расширением `.ps1`, например, `monitor.ps1`.
4.  Запустите PowerShell от имени администратора.
5.  Выполните скрипт, перейдя в папку с файлом и набрав `.\monitor.ps1`.

-----

### Как это работает?

  * `Get-WmiObject Win32_Processor` получает информацию о процессоре. Мы используем свойство `LoadPercentage` для определения загрузки.
  * `Get-WmiObject Win32_OperatingSystem` получает данные об операционной системе, включая информацию о памяти.
  * `Write-Host` выводит текст в консоль, а `  -ForegroundColor ` позволяет выделить текст цветом для лучшей читаемости.
  * Мы используем простые математические операции, чтобы преобразовать данные в более понятный формат (например, из байтов в мегабайты и проценты).

